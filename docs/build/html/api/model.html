<!DOCTYPE html>

<html lang="en" data-content_root="../">
  <head>
    <meta charset="utf-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" /><meta name="viewport" content="width=device-width, initial-scale=1" />

    <title>piperabm.Model &#8212; PiperABM 0.1.1 documentation</title>
    <link rel="stylesheet" type="text/css" href="../_static/pygments.css?v=5ecbeea2" />
    <link rel="stylesheet" type="text/css" href="../_static/basic.css?v=b08954a9" />
    <link rel="stylesheet" type="text/css" href="../_static/alabaster.css?v=27fed22d" />
    <script src="../_static/documentation_options.js?v=a58bc63e"></script>
    <script src="../_static/doctools.js?v=9bcbadda"></script>
    <script src="../_static/sphinx_highlight.js?v=dc90522c"></script>
    <link rel="index" title="Index" href="../genindex.html" />
    <link rel="search" title="Search" href="../search.html" />
    <link rel="next" title="piperabm.measurement" href="measurement.html" />
    <link rel="prev" title="Working with Satellite Data" href="../satellite.html" />
   
  <link rel="stylesheet" href="../_static/custom.css" type="text/css" />
  

  
  

  </head><body>
  

    <div class="document">
      <div class="documentwrapper">
        <div class="bodywrapper">
          

          <div class="body" role="main">
            
  <section id="piperabm-model">
<h1>piperabm.Model<a class="headerlink" href="#piperabm-model" title="Link to this heading">¶</a></h1>
<dl class="py class">
<dt class="sig sig-object py" id="piperabm.Model">
<em class="property"><span class="k"><span class="pre">class</span></span><span class="w"> </span></em><span class="sig-prename descclassname"><span class="pre">piperabm.</span></span><span class="sig-name descname"><span class="pre">Model</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">name</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><span class="pre">str</span></span><span class="w"> </span><span class="o"><span class="pre">=</span></span><span class="w"> </span><span class="default_value"><span class="pre">''</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">prices</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><span class="pre">dict</span></span><span class="w"> </span><span class="o"><span class="pre">=</span></span><span class="w"> </span><span class="default_value"><span class="pre">{'energy':</span> <span class="pre">1,</span> <span class="pre">'food':</span> <span class="pre">1,</span> <span class="pre">'water':</span> <span class="pre">1}</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">path</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">None</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">seed</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><span class="pre">int</span></span><span class="w"> </span><span class="o"><span class="pre">=</span></span><span class="w"> </span><span class="default_value"><span class="pre">None</span></span></em><span class="sig-paren">)</span><a class="headerlink" href="#piperabm.Model" title="Link to this definition">¶</a></dt>
<dd><p>Bases: <code class="xref py py-class docutils literal notranslate"><span class="pre">Serialize</span></code>, <code class="xref py py-class docutils literal notranslate"><span class="pre">File</span></code>, <code class="xref py py-class docutils literal notranslate"><span class="pre">Update</span></code>, <code class="xref py py-class docutils literal notranslate"><span class="pre">Graphics</span></code></p>
<p>Main class of simulation</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters<span class="colon">:</span></dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>name</strong> (<em>str</em><em>, </em><em>optional</em>) – A label to distinguish this model and its results when running multiple instances. In single runs, this can left empty.</p></li>
<li><p><strong>prices</strong> (<em>dict</em><em>, </em><em>optional</em>) – Mapping of resource names to unit costs. FEWS Nexus framework expects <cite>‘food’</cite>, <cite>‘water’</cite>, <cite>‘energy’</cite>.</p></li>
<li><p><strong>path</strong> (<em>str</em><em>, </em><em>optional</em>) – Directory for saving/loading simulation.</p></li>
<li><p><strong>seed</strong> (<em>int</em><em>, </em><em>optional</em>) – Integer seed for reproducibility.</p></li>
</ul>
</dd>
</dl>
<dl class="py method">
<dt class="sig sig-object py" id="piperabm.Model.animate">
<span class="sig-name descname"><span class="pre">animate</span></span><span class="sig-paren">(</span><span class="sig-paren">)</span><a class="headerlink" href="#piperabm.Model.animate" title="Link to this definition">¶</a></dt>
<dd></dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="piperabm.Model.append_delta">
<span class="sig-name descname"><span class="pre">append_delta</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">delta</span></span></em><span class="sig-paren">)</span> <span class="sig-return"><span class="sig-return-icon">&#x2192;</span> <span class="sig-return-typehint"><span class="pre">None</span></span></span><a class="headerlink" href="#piperabm.Model.append_delta" title="Link to this definition">¶</a></dt>
<dd><p>Append the new delta to file</p>
</dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="piperabm.Model.append_transactions">
<span class="sig-name descname"><span class="pre">append_transactions</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">transactions</span></span></em><span class="sig-paren">)</span> <span class="sig-return"><span class="sig-return-icon">&#x2192;</span> <span class="sig-return-typehint"><span class="pre">None</span></span></span><a class="headerlink" href="#piperabm.Model.append_transactions" title="Link to this definition">¶</a></dt>
<dd><p>Append the new delta to file</p>
</dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="piperabm.Model.apply_delta">
<span class="sig-name descname"><span class="pre">apply_delta</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">delta</span></span></em><span class="sig-paren">)</span> <span class="sig-return"><span class="sig-return-icon">&#x2192;</span> <span class="sig-return-typehint"><span class="pre">None</span></span></span><a class="headerlink" href="#piperabm.Model.apply_delta" title="Link to this definition">¶</a></dt>
<dd><p>Update model by applying a delta</p>
</dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="piperabm.Model.apply_deltas">
<span class="sig-name descname"><span class="pre">apply_deltas</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">deltas</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><span class="pre">list</span></span><span class="w"> </span><span class="o"><span class="pre">=</span></span><span class="w"> </span><span class="default_value"><span class="pre">None</span></span></em><span class="sig-paren">)</span> <span class="sig-return"><span class="sig-return-icon">&#x2192;</span> <span class="sig-return-typehint"><span class="pre">None</span></span></span><a class="headerlink" href="#piperabm.Model.apply_deltas" title="Link to this definition">¶</a></dt>
<dd><p>Update model by applying all deltas</p>
</dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="piperabm.Model.bake">
<span class="sig-name descname"><span class="pre">bake</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">save</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><span class="pre">bool</span></span><span class="w"> </span><span class="o"><span class="pre">=</span></span><span class="w"> </span><span class="default_value"><span class="pre">False</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">proximity_radius</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><span class="pre">float</span></span><span class="w"> </span><span class="o"><span class="pre">=</span></span><span class="w"> </span><span class="default_value"><span class="pre">0</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">search_radius</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><span class="pre">float</span></span><span class="w"> </span><span class="o"><span class="pre">=</span></span><span class="w"> </span><span class="default_value"><span class="pre">None</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">report</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><span class="pre">bool</span></span><span class="w"> </span><span class="o"><span class="pre">=</span></span><span class="w"> </span><span class="default_value"><span class="pre">False</span></span></em><span class="sig-paren">)</span><a class="headerlink" href="#piperabm.Model.bake" title="Link to this definition">¶</a></dt>
<dd><p>Prepare the model for the first simulation step.</p>
<p>This will generate nodes/edges, and compute any necessary initial calculations.</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters<span class="colon">:</span></dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>save</strong> (<em>bool</em><em>, </em><em>default=False</em>) – If True, immediately serialize the infrastructure state to disk.</p></li>
<li><p><strong>proximity_radius</strong> (<em>float</em><em>, </em><em>default=0</em>) – Radius (in model units) to consider for “nearby” agents.</p></li>
<li><p><strong>search_radius</strong> (<em>float</em><em> or </em><em>None</em><em>, </em><em>default=None</em>) – Max distance for pathfinding; if None, uses a model-wide default.</p></li>
<li><p><strong>report</strong> (<em>bool</em><em>, </em><em>default=False</em>) – If True, print a short summary of what was baked.</p></li>
</ul>
</dd>
</dl>
</dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="piperabm.Model.deserialize">
<span class="sig-name descname"><span class="pre">deserialize</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">data</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><span class="pre">dict</span></span></em><span class="sig-paren">)</span> <span class="sig-return"><span class="sig-return-icon">&#x2192;</span> <span class="sig-return-typehint"><span class="pre">None</span></span></span><a class="headerlink" href="#piperabm.Model.deserialize" title="Link to this definition">¶</a></dt>
<dd><p>Deserialize</p>
</dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="piperabm.Model.deserialize_state">
<span class="sig-name descname"><span class="pre">deserialize_state</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">state</span></span></em><span class="sig-paren">)</span><a class="headerlink" href="#piperabm.Model.deserialize_state" title="Link to this definition">¶</a></dt>
<dd><p>Deserialize numpy random generator state</p>
</dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="piperabm.Model.fig">
<span class="sig-name descname"><span class="pre">fig</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">relationships</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">False</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">clf</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">True</span></span></em><span class="sig-paren">)</span><a class="headerlink" href="#piperabm.Model.fig" title="Link to this definition">¶</a></dt>
<dd><p>Add model elements to plt fig ax</p>
</dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="piperabm.Model.load">
<span class="sig-name descname"><span class="pre">load</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">name</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><span class="pre">str</span></span></em><span class="sig-paren">)</span> <span class="sig-return"><span class="sig-return-icon">&#x2192;</span> <span class="sig-return-typehint"><span class="pre">None</span></span></span><a class="headerlink" href="#piperabm.Model.load" title="Link to this definition">¶</a></dt>
<dd><p>Load model from file</p>
</dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="piperabm.Model.load_deltas">
<span class="sig-name descname"><span class="pre">load_deltas</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">_from</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><span class="pre">int</span></span><span class="w"> </span><span class="o"><span class="pre">=</span></span><span class="w"> </span><span class="default_value"><span class="pre">None</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">_to</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><span class="pre">int</span></span><span class="w"> </span><span class="o"><span class="pre">=</span></span><span class="w"> </span><span class="default_value"><span class="pre">None</span></span></em><span class="sig-paren">)</span> <span class="sig-return"><span class="sig-return-icon">&#x2192;</span> <span class="sig-return-typehint"><span class="pre">list</span></span></span><a class="headerlink" href="#piperabm.Model.load_deltas" title="Link to this definition">¶</a></dt>
<dd><p>Load all detlas from file</p>
</dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="piperabm.Model.load_final">
<span class="sig-name descname"><span class="pre">load_final</span></span><span class="sig-paren">(</span><span class="sig-paren">)</span> <span class="sig-return"><span class="sig-return-icon">&#x2192;</span> <span class="sig-return-typehint"><span class="pre">None</span></span></span><a class="headerlink" href="#piperabm.Model.load_final" title="Link to this definition">¶</a></dt>
<dd><p>Load final state of model from file</p>
</dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="piperabm.Model.load_initial">
<span class="sig-name descname"><span class="pre">load_initial</span></span><span class="sig-paren">(</span><span class="sig-paren">)</span> <span class="sig-return"><span class="sig-return-icon">&#x2192;</span> <span class="sig-return-typehint"><span class="pre">None</span></span></span><a class="headerlink" href="#piperabm.Model.load_initial" title="Link to this definition">¶</a></dt>
<dd><p>Load initial state of model from file</p>
</dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="piperabm.Model.push">
<span class="sig-name descname"><span class="pre">push</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">steps</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><span class="pre">int</span></span><span class="w"> </span><span class="o"><span class="pre">=</span></span><span class="w"> </span><span class="default_value"><span class="pre">1</span></span></em><span class="sig-paren">)</span> <span class="sig-return"><span class="sig-return-icon">&#x2192;</span> <span class="sig-return-typehint"><span class="pre">None</span></span></span><a class="headerlink" href="#piperabm.Model.push" title="Link to this definition">¶</a></dt>
<dd><p>Push model forward using deltas</p>
</dd></dl>

<dl class="py property">
<dt class="sig sig-object py" id="piperabm.Model.resource_names">
<em class="property"><span class="k"><span class="pre">property</span></span><span class="w"> </span></em><span class="sig-name descname"><span class="pre">resource_names</span></span><a class="headerlink" href="#piperabm.Model.resource_names" title="Link to this definition">¶</a></dt>
<dd><p>Return name of resources in the model</p>
</dd></dl>

<dl class="py property">
<dt class="sig sig-object py" id="piperabm.Model.result_directory">
<em class="property"><span class="k"><span class="pre">property</span></span><span class="w"> </span></em><span class="sig-name descname"><span class="pre">result_directory</span></span><a class="headerlink" href="#piperabm.Model.result_directory" title="Link to this definition">¶</a></dt>
<dd><p>Return result directory</p>
</dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="piperabm.Model.run">
<span class="sig-name descname"><span class="pre">run</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">n</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><span class="pre">int</span></span><span class="w"> </span><span class="o"><span class="pre">=</span></span><span class="w"> </span><span class="default_value"><span class="pre">None</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">step_size</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><span class="pre">float</span></span><span class="w"> </span><span class="o"><span class="pre">=</span></span><span class="w"> </span><span class="default_value"><span class="pre">3600</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">save</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><span class="pre">bool</span></span><span class="w"> </span><span class="o"><span class="pre">=</span></span><span class="w"> </span><span class="default_value"><span class="pre">False</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">save_transactions</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><span class="pre">bool</span></span><span class="w"> </span><span class="o"><span class="pre">=</span></span><span class="w"> </span><span class="default_value"><span class="pre">False</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">resume</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><span class="pre">bool</span></span><span class="w"> </span><span class="o"><span class="pre">=</span></span><span class="w"> </span><span class="default_value"><span class="pre">False</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">report</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><span class="pre">bool</span></span><span class="w"> </span><span class="o"><span class="pre">=</span></span><span class="w"> </span><span class="default_value"><span class="pre">False</span></span></em><span class="sig-paren">)</span><a class="headerlink" href="#piperabm.Model.run" title="Link to this definition">¶</a></dt>
<dd><p>Run model for multiple steps.</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters<span class="colon">:</span></dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>n</strong> (<em>int</em><em> or </em><em>None</em>) – Number of steps to run. If None, keeps running until no agents remain.</p></li>
<li><p><strong>step_size</strong> (<em>float</em>) – Time increment for each step (e.g. seconds).</p></li>
<li><p><strong>save</strong> (<em>bool</em>) – If <cite>True</cite>, serialize state snapshots and deltas to disk.</p></li>
<li><p><strong>save_transactions</strong> (<em>bool</em>) – If <cite>True</cite>, record all transactions to disk.</p></li>
<li><p><strong>resume</strong> (<em>bool</em>) – If <cite>True</cite>, attempt to resume from last saved state instead of starting fresh.</p></li>
<li><p><strong>report</strong> (<em>bool</em>) – If <cite>True</cite>, print progress for n-step runs.</p></li>
</ul>
</dd>
</dl>
</dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="piperabm.Model.save">
<span class="sig-name descname"><span class="pre">save</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">name</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><span class="pre">str</span></span></em><span class="sig-paren">)</span> <span class="sig-return"><span class="sig-return-icon">&#x2192;</span> <span class="sig-return-typehint"><span class="pre">None</span></span></span><a class="headerlink" href="#piperabm.Model.save" title="Link to this definition">¶</a></dt>
<dd><p>Save model to file</p>
</dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="piperabm.Model.save_final">
<span class="sig-name descname"><span class="pre">save_final</span></span><span class="sig-paren">(</span><span class="sig-paren">)</span> <span class="sig-return"><span class="sig-return-icon">&#x2192;</span> <span class="sig-return-typehint"><span class="pre">None</span></span></span><a class="headerlink" href="#piperabm.Model.save_final" title="Link to this definition">¶</a></dt>
<dd><p>Save final state of model to file</p>
</dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="piperabm.Model.save_initial">
<span class="sig-name descname"><span class="pre">save_initial</span></span><span class="sig-paren">(</span><span class="sig-paren">)</span> <span class="sig-return"><span class="sig-return-icon">&#x2192;</span> <span class="sig-return-typehint"><span class="pre">None</span></span></span><a class="headerlink" href="#piperabm.Model.save_initial" title="Link to this definition">¶</a></dt>
<dd><p>Save initial state of model to file</p>
</dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="piperabm.Model.serialize">
<span class="sig-name descname"><span class="pre">serialize</span></span><span class="sig-paren">(</span><span class="sig-paren">)</span> <span class="sig-return"><span class="sig-return-icon">&#x2192;</span> <span class="sig-return-typehint"><span class="pre">dict</span></span></span><a class="headerlink" href="#piperabm.Model.serialize" title="Link to this definition">¶</a></dt>
<dd><p>Serialize</p>
</dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="piperabm.Model.serialize_state">
<span class="sig-name descname"><span class="pre">serialize_state</span></span><span class="sig-paren">(</span><span class="sig-paren">)</span><a class="headerlink" href="#piperabm.Model.serialize_state" title="Link to this definition">¶</a></dt>
<dd><p>Serialize numpy random generator state</p>
</dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="piperabm.Model.set_seed">
<span class="sig-name descname"><span class="pre">set_seed</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">seed</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><span class="pre">int</span></span><span class="w"> </span><span class="o"><span class="pre">=</span></span><span class="w"> </span><span class="default_value"><span class="pre">None</span></span></em><span class="sig-paren">)</span><a class="headerlink" href="#piperabm.Model.set_seed" title="Link to this definition">¶</a></dt>
<dd><p>Set random generator seed for result reproducability</p>
</dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="piperabm.Model.show">
<span class="sig-name descname"><span class="pre">show</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">relationships</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">False</span></span></em><span class="sig-paren">)</span><a class="headerlink" href="#piperabm.Model.show" title="Link to this definition">¶</a></dt>
<dd><p>Show model elements</p>
</dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="piperabm.Model.trade">
<span class="sig-name descname"><span class="pre">trade</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">agents</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><span class="pre">list</span></span><span class="w"> </span><span class="o"><span class="pre">=</span></span><span class="w"> </span><span class="default_value"><span class="pre">[]</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">markets</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><span class="pre">list</span></span><span class="w"> </span><span class="o"><span class="pre">=</span></span><span class="w"> </span><span class="default_value"><span class="pre">[]</span></span></em><span class="sig-paren">)</span><a class="headerlink" href="#piperabm.Model.trade" title="Link to this definition">¶</a></dt>
<dd><p>Trade</p>
</dd></dl>

<dl class="py attribute">
<dt class="sig sig-object py" id="piperabm.Model.type">
<span class="sig-name descname"><span class="pre">type</span></span><em class="property"><span class="w"> </span><span class="p"><span class="pre">=</span></span><span class="w"> </span><span class="pre">'model'</span></em><a class="headerlink" href="#piperabm.Model.type" title="Link to this definition">¶</a></dt>
<dd></dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="piperabm.Model.update">
<span class="sig-name descname"><span class="pre">update</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">duration</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><span class="pre">float</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">save</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><span class="pre">bool</span></span><span class="w"> </span><span class="o"><span class="pre">=</span></span><span class="w"> </span><span class="default_value"><span class="pre">False</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">save_transactions</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><span class="pre">bool</span></span><span class="w"> </span><span class="o"><span class="pre">=</span></span><span class="w"> </span><span class="default_value"><span class="pre">False</span></span></em><span class="sig-paren">)</span><a class="headerlink" href="#piperabm.Model.update" title="Link to this definition">¶</a></dt>
<dd><p>Update model for a single step.</p>
<p>Steps performed:
1. (If save) snapshot current state for delta comparison.
2. Execute trades in each market and household.
3. Update agent behaviors and infrastructure effects.
4. Reset market balances and refill resources.
5. Increment time and step counters.
6. (If save) compute &amp; append state delta, save final state.
7. (If save_transactions) append transaction list to log.</p>
</dd></dl>

</dd></dl>

</section>


          </div>
          
        </div>
      </div>
      <div class="sphinxsidebar" role="navigation" aria-label="Main">
        <div class="sphinxsidebarwrapper">
<h1 class="logo"><a href="../index.html">PiperABM</a></h1>









<search id="searchbox" style="display: none" role="search">
    <div class="searchformwrapper">
    <form class="search" action="../search.html" method="get">
      <input type="text" name="q" aria-labelledby="searchlabel" autocomplete="off" autocorrect="off" autocapitalize="off" spellcheck="false" placeholder="Search"/>
      <input type="submit" value="Go" />
    </form>
    </div>
</search>
<script>document.getElementById('searchbox').style.display = "block"</script><h3>Navigation</h3>
<p class="caption" role="heading"><span class="caption-text">Usage Guide</span></p>
<ul>
<li class="toctree-l1"><a class="reference internal" href="../step-by-step.html">Step-by-Step Usage Guide</a></li>
<li class="toctree-l1"><a class="reference internal" href="../satellite.html">Working with Satellite Data</a></li>
</ul>
<p class="caption" role="heading"><span class="caption-text">API Reference</span></p>
<ul class="current">
<li class="toctree-l1 current"><a class="current reference internal" href="#">piperabm.Model</a></li>
<li class="toctree-l1"><a class="reference internal" href="measurement.html">piperabm.measurement</a></li>
<li class="toctree-l1"><a class="reference internal" href="infrastructure.html">piperabm.Infrastructure</a></li>
<li class="toctree-l1"><a class="reference internal" href="society.html">piperabm.society</a></li>
<li class="toctree-l1"><a class="reference internal" href="latlong_xy.html">piperabm.tools.coordinate.projection</a></li>
</ul>

<div class="relations">
<h3>Related Topics</h3>
<ul>
  <li><a href="../index.html">Documentation overview</a><ul>
      <li>Previous: <a href="../satellite.html" title="previous chapter">Working with Satellite Data</a></li>
      <li>Next: <a href="measurement.html" title="next chapter">piperabm.measurement</a></li>
  </ul></li>
</ul>
</div>








        </div>
      </div>
      <div class="clearer"></div>
    </div>
    <div class="footer">
      &#169;2025, Aslan Noorghasemi, Christopher McComb.
      
      |
      Powered by <a href="https://www.sphinx-doc.org/">Sphinx 8.2.3</a>
      &amp; <a href="https://alabaster.readthedocs.io">Alabaster 1.0.0</a>
      
      |
      <a href="../_sources/api/model.rst.txt"
          rel="nofollow">Page source</a>
    </div>

    

    
  </body>
</html>